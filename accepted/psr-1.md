## PSR-1: Основной Стандарт Кодирования

Этот раздел стандарта содержит то, что следует считать стандартными основами кодирования, которые необходимы для обеспечения высокого уровня технической совместимости между общим кодом PHP.

Ключевые слова 'ДОЛЖНЫ', 'НЕ ДОЛЖНЫ', 'ТРЕБУЕТСЯ', 'НУЖНО', 'НЕ НУЖНО', 'СЛЕДУЕТ', 'НЕ СЛЕДУЕТ', 'РЕКОМЕНДУЕТСЯ', 'МОЖЕТ' и 'НЕОБЯЗАТЕЛЬНО' в этом документе должны толковаться так, как описано в [RFC 2119](../rfc2119.md).

[//]: # (The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”)

#### 1. Обзор

* В файлах ДОЛЖНЫ использоваться только теги `<?php ... ?>` и `<?= ... ?>`.
* В файлах для PHP кода ДОЛЖНА применяться только кодировка [UTF-8][utf] без [BOM][bom].
* В файлах ДОЛЖНЫ быть либо объявление (например классов, функций, констант и т. д.), либо выполнение каких-то действий (например генерировать выходные данные, изменять настройки файлов .ini и т. д.). Но НЕ ДОЛЖНЫ делать и то, и другое.
* Пространства имен и классы ДОЛЖНЫ соответствовать стандарту 'автозагрузки' PSR-0, PSR-4.
* Имена классов ДОЛЖНЫ быть объявлены в `StudlyCaps`. Первая буква, каждого составного слова начинается с заглавной без разделителей.
* Константы класса ДОЛЖНЫ быть объявлены в `CONST_VALUE` верхнем регистре с разделителями подчеркивания.
* Имена методов ДОЛЖНЫ быть объявлены в [`camelCase`][camelcase].

#### 2. Файлы
###### 2.1. PHP Теги
В PHP коде ДОЛЖЕН использоваться длинный тег `<?php ... ?>` или сокращенный echo-тег `<?= ... ?>`; в коде НЕ ДОЛЖНО использоваться других вариантов тегов.

###### 2.2. Кодировка Символов
PHP код ДОЛЖЕН использовать только [UTF-8][utf] без [BOM][bom].

###### 2.3. Побочные Эффекты

Фраза 'побочные эффекты' означает выполнение логики, не связанной напрямую с объявлением (классов, функций, констант и т. д.), *а только из подключенного файла*.

В файле СЛЕДУЕТ объявлять новые инструкции (классы, функции, константы и т. д.) и не вызывать других побочных эффектов. Либо СЛЕДУЕТ выполнять логику с побочными эффектами, но НЕ СЛЕДУЕТ выполнять оба этих действия.

'Побочные эффекты' включают, в частности: создание выходных данных, явное использование `require` или `include`, подключение к внешним службам, изменение настроек ini файлов, выдача ошибок или исключений, изменение глобальных или статических переменных, чтение или запись в файл и т. д.

Ниже приведен пример файла с объявлениями и побочными эффектами. Это пример того, чего следует избегать:

```php
<?php
// побочный эффект: изменение настроек ini файла
ini_set('error_reporting', E_ALL);

// побочный эффект: подключение файла
include 'file.php';

// побочный эффект: генерация выходных данных
echo "<html>\n";

// объявление функции
function foo()
{
    // тело функции
}
```

Следующий пример файла, который содержит объявления без побочных эффектов. Пример того, чему следует подражать:

```php
<?php
// объявление функции
function foo()
{
    // тело функции
}

// условное объявление НЕ побочный эффект
if (! function_exists('bar')) {
    function bar()
    {
        // тело функции
    }
}
```

#### 3. Пространства Имен и Имена Классов

Пространства имен и классы ДОЛЖНЫ следовать стандарту 'автозагрузки' PSR-0, PSR-4.

Это означает, что каждый класс находится в файле сам по себе и находится в пространстве имен как минимум одного уровня: имени поставщика верхнего уровня.

Имена классов ДОЛЖНЫ быть объявлены в `StudlyCaps`.

Код, написанный для PHP 5.3 и более поздних версий, ДОЛЖЕН использовать формальные пространства имен.

Например:

```php
<?php
// PHP 5.3 и более поздних версий:
namespace Vendor\Model;

class Foo
{
}
```

Код, написанный для 5.2.x и более ранних, ДОЛЖЕН использовать соглашение о псевдо-именах с префиксом `Vendor_` в именах классов.

```php
<?php
// PHP 5.2.x и более ранних:
class Vendor_Model_Foo
{
}
```

#### 4. Константы Класса, Свойства и Методы

Понятие 'класс' относится ко всем классам, интерфейсам и трейтам.

##### 4.1. Константы

Константы класса ДОЛЖНЫ быть объявлены в верхнем регистре и разделены символом подчёркивания. Например:

```php
<?php
namespace Vendor\Model;

class Foo
{
    const VERSION = '1.0';
    const DATE_APPROVED = '2012-06-01';
}
```

##### 4.2. Свойства

Это руководство намеренно избегает любых рекомендаций, касающихся использования имен свойств `$StudlyCaps`, `$camelCase` или `$under_score`.

Какое бы соглашение об именовании ни использовалось, СЛЕДУЕТ применять систематически и в разумных пределах. Эта область может быть на уровне поставщика, на уровне пакета, на уровне класса или на уровне метода.

##### 4.3. Методы

Имена методов ДОЛЖНЫ быть объявлены в [`camelCase()`][camelcase].

[camelcase]: https://ru.wikipedia.org/wiki/CamelCase
[utf]: https://ru.wikipedia.org/wiki/UTF-8
[bom]: https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%80%D0%BA%D0%B5%D1%80_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8_%D0%B1%D0%B0%D0%B9%D1%82%D0%BE%D0%B2
